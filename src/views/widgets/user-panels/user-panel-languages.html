<template>
    <require from="../inputs/form-input"></require>
    <require from="../inputs/form-select"></require>
    <require from="../../../resources/format/format-date"></require>

    <!--? languages:  ${profile.languages} !

<h1>1</h1>
    <ul>
        <li repeat.for="row of myLookups.languages">
            ${row.name}
        </li>
    </ul>
    <h1>1.2 ${profile.languages.length}</h1>
    <ul>
        <li repeat.for="row of profile.languages">
            ${row.name}
        </li>
    </ul>
lkp_languages: ${lkp_languages} / ${myLookups.languages}-->

    <div class="col-xs-12">
        <table class="table cols-2 user-panel-table">
            <thead>
                <tr>
                    <th>Language</th>
                    <th>Proficiency</th>
                </tr>
            </thead>
            <tbody>
                <tr repeat.for="row of profile.languages">
                    <td class="padded-cell">
                        <form-select
                            input-only="true"
                            model.two-way="profile.languages[$index].languageId"
                            options.bind="myLookups.languages"                            
                            autocomplete.bind="true"
                            init-selected.two-way="profile.languages[$index].languageId"
                            is-readonly.bind="isReadOnly"></form-select>
                            <!--changed.two-way="user.profile.languages[$index].language.id"-->

                    </td>
                    <td class="padded-cell">
                        <form-select inp-name.bind="Proficiency"
                            input-only="true"
                            prop-arr.bind="['value','name']"
                            model.two-way="profile.languages[$index].proficiencyValue"
                            options.bind="myLookups.languageProficiencies"                            
                            init-selected.two-way="profile.languages[$index].proficiencyValue"
                            is-enabled.bind="profile.languages[$index].languageId"
                            is-readonly.bind="isReadOnly"></form-select>
                            <!--changed.two-way="user.profile.languages[$index].proficiency.value"-->
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

   <div if.bind="!isReadOnly" class="col-xs-12 margin-bottom-g1">
       <!--if.bind="$index+1 == user.profile.languages.length && $index+1<lkp_languages_limitTo"-->
        <button class="btn btn-default btn-sm">
            <i class="fa fa-plus"></i>
            Add Language
        </button>
    </div>

</template>