<template>
    <require from="../inputs/form-input"></require>
    <require from="../inputs/form-select"></require>
    <require from="../../../resources/format/format-date"></require>

    <div class="col-xs-12">
        <table class="table half-n-half border-none user-panel-table">
            <thead>
                <tr>
                    <th>Language</th>
                    <th>Proficiency</th>
                </tr>
            </thead>
            <tbody>
                <tr repeat.for="row of user.profile.languages">
                    <td>
                        <form-select name="lkp_language[$index]"
                            input-only="true"
                            model.two-way="user.profile.languages[$index].language.id"
                            options.bind="lkp_languages"
                            changed.two-way="user.profile.languages[$index].language.id"
                            autocomplete.bind="true"
                            init-selected.two-way="user.profile.languages[$index].language.id"></form-select>

                    </td>
                    <td>
                        <form-select name="lkp_languageLevel[$index]"
                            input-only="true"
                            prop-arr.bind="['value','name']"
                            model.two-way="user.profile.languages[$index].proficiency.value"
                            options.bind="lkp_languageLevel"
                            changed.two-way="user.profile.languages[$index].proficiency.value"
                            init-selected.two-way="user.profile.languages[$index].proficiency.value"
                            is-enabled.bind="user.profile.languages[$index].language.id"></form-select>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

   <div class="col-xs-12 margin-bottom-g1">
       <!--if.bind="$index+1 == user.profile.languages.length && $index+1<lkp_languages_limitTo"-->
        <button class="btn btn-default btn-sm">
            <i class="fa fa-plus"></i>
            Add Language
        </button>
    </div>

</template>